// mauIRC - The original mauIRC web frontend
// Copyright (C) 2016 Tulir Asokan
//
// This program is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.

// You should have received a copy of the GNU General Public License
// along with this program.  If not, see <http://www.gnu.org/licenses/>.
@import "../base/vars";
@import "topbar";

@mixin chat-containers($size, $left_width, $right_width) {
	@media screen and (min-width: $size) {
		.chat, .input-container {
			right: $right_width;
			left: $left_width;
		}

		.topbar-container {
			left: $left_width;
		}

		@if $left_width != 0 {
			.channels-container {
				display: block;

				width: $left_width;
			}
		}

		@if $right_width != 0 {
			.users-container {
				display: block;

				width: $right_width;
			}
		}
	}
}

.chat-container {
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;

	.chat {
		position: absolute;
		top: 2rem;
		right: 0;
		bottom: 3rem;
		left: 0;

		overflow-y: auto;

		box-sizing: border-box;

		background-color: white;
	}

	.topbar-container {
		@extend .standalone-topbar-container;

		& {
			position: absolute;
		}
	}

	.input-container {
		position: absolute;
		right: 0;
		bottom: 0;
		left: 0;

		box-sizing: border-box;
		height: 3rem;

		border-top: 2px solid $secondary-content;

		input {
			box-sizing: border-box;
			width: 100%;
			height: 100%;
			padding: .75rem;

			border: none;

			font-size: 1rem;
		}
	}

	.channels-container {
		position: absolute;
		top: 0;
		bottom: 3rem;
		left: 0;

		display: none;
	}

	.users-container {
		position: absolute;
		top: 2rem;
		right: 0;
		bottom: 3rem;

		display: none;

		&.hidden ~ .chat, &.hidden ~ .input-container {
			right: 0;
		}
	}

	// Prevent CSSComb from moving includes up
	& {
		@include chat-containers($small, 8rem, 0);
		@include chat-containers($medium, 10rem, 8rem);
		@include chat-containers($large, 12rem, 10rem);
		@include chat-containers($extralarge, 14rem, 12rem);
	}
}
